<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>客户试算</title>
</head>
<body>
    <script src="./scripts/jquery-3.2.1.min.js"></script>
    <script src="scripts/calculator.js"></script>
    <script type="text/javascript">
        $(function () {
            APPAttemptCalculate(10, 5.345, {});
        });
        //APP计算
        function APPAttemptCalculate(rate,baseRate, infoJson) {
            if (isNaN(rate)) {
                alert("实际上浮点错误");
                return;
            }
            rate = rate / 100;
            var jsonModel = CalculatorPdcs4calNetRate(baseRate, 2, rate, infoJson, function () {
                console.log("初始化成功");
            }, function () {
                console.log("发生异常");
            });
            if (jsonModel.STATUS == "1") {
                if (isNaN(parseFloat(jsonModel.ZX_RATE))) {
                    $("#EnforcedForce").text("无");
                } else {
                    $("#EnforcedForce").text(parseFloat(jsonModel.ZX_RATE).toFixed(3));
                }
                if (isNaN(parseFloat(jsonModel.RAROC))) {
                    $("#RAROC").text("无");
                } else {
                    $("#RAROC").text(parseFloat(jsonModel.RAROC).toFixed(3));
                }
                if (isNaN(parseFloat(jsonModel.EVA))) {
                    $("#RAROCQuota").text("无");
                } else {
                    $("#RAROCQuota").text(parseFloat(jsonModel.EVA).toFixed(3));
                }
                console.log(jsonModel);
            } else {
                alert("计算错误");
            }
        }
    </script>
</body>
</html>
